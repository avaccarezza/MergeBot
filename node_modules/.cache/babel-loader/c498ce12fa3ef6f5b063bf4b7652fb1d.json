{"ast":null,"code":"var _jsxFileName = \"D:\\\\Da Vinci\\\\5to Cuatrimestre\\\\Integracion Tecnologica\\\\Imagenes IA\\\\imagenesiav2\\\\src\\\\App.js\";\nimport React from 'react';\nimport p1 from './p1.jpg';\nimport p2 from './p2.jpg';\nimport p3 from './p3.jpg';\nimport mergeImages from 'merge-images';\nconst clientID = 'RjsPMJAfMUwT7iB5GcUaqzG8gTmq1ogfXYpaKZYkQmU';\nconst endpoint = 'https://api.unsplash.com/search/photos';\nexport default class App extends React.Component {\n  constructor() {\n    super();\n    this.query = '';\n    this.trackQueryValue = this.trackQueryValue.bind(this);\n    this.search = this.search.bind(this);\n    this.state = {\n      images: [],\n      imagen: null,\n      hasError: false\n    };\n  }\n\n  componentDidCatch(error, errorInfo) {\n    // También puedes registrar el error en un servicio de reporte de errores\n    logErrorToMyService(error, errorInfo);\n  }\n  /* imagenesNuestras()\n   {\n     mergeImages([p2, p1, p3])\n     .then(b64 => {this.setState({imagen:b64})});\n   }*/\n\n\n  search() {\n    fetch(`${endpoint}?query=${this.query}&client_id=${clientID}&per_page=3&orientation=landscape`).then(response => {\n      return response.json();\n    }).then(jsonResponse => {\n      console.log(jsonResponse);\n      return jsonResponse.results;\n    }).then(results => this.marge(results));\n  }\n\n  marge(jsonImagenes) {\n    var arrayImagenes = jsonImagenes.map(images => {\n      return images.urls.small;\n    });\n    var img1 = arrayImagenes[0];\n    var img2 = arrayImagenes[1];\n    var img3 = arrayImagenes[2];\n    var b64 = mergeImages([{\n      src: img1,\n      x: 0,\n      y: 0\n    }, {\n      src: img2,\n      x: 32,\n      y: 0\n    }, {\n      src: img3,\n      opacity: 0.7\n    }], {\n      crossOrigin: 'Anonymous'\n    }).then(b64 => {\n      this.setState({\n        imagen: b64\n      });\n    });\n  }\n\n  trackQueryValue(ev) {\n    this.query = ev.target.value;\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 12\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        onChange: this.trackQueryValue,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 7\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: this.search,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 7\n        }\n      }, \"Buscar\"), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: this.state.imagen,\n        crossOrigin: \"anonymous\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }\n      })));\n    }\n  }\n\n}","map":{"version":3,"sources":["D:/Da Vinci/5to Cuatrimestre/Integracion Tecnologica/Imagenes IA/imagenesiav2/src/App.js"],"names":["React","p1","p2","p3","mergeImages","clientID","endpoint","App","Component","constructor","query","trackQueryValue","bind","search","state","images","imagen","hasError","componentDidCatch","error","errorInfo","logErrorToMyService","fetch","then","response","json","jsonResponse","console","log","results","marge","jsonImagenes","arrayImagenes","map","urls","small","img1","img2","img3","b64","src","x","y","opacity","crossOrigin","setState","ev","target","value","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport p1 from './p1.jpg';\nimport p2 from './p2.jpg';\nimport p3 from './p3.jpg';\nimport mergeImages from 'merge-images';\n\nconst clientID = 'RjsPMJAfMUwT7iB5GcUaqzG8gTmq1ogfXYpaKZYkQmU';\nconst endpoint = 'https://api.unsplash.com/search/photos';\n\nexport default class App extends React.Component {\n \n  constructor()\n  {\n    super();\n    this.query='';\n    this.trackQueryValue = this.trackQueryValue.bind(this);\n    this.search = this.search.bind(this);\n\n    this.state= \n    { \n      images:[],\n      imagen: null, \n      hasError: false,\n    }\n  } \n  componentDidCatch(error, errorInfo) {\n    // También puedes registrar el error en un servicio de reporte de errores\n    logErrorToMyService(error, errorInfo);\n  }\n /* imagenesNuestras()\n  {\n    mergeImages([p2, p1, p3])\n    .then(b64 => {this.setState({imagen:b64})});\n  }*/\n\n\n  search()\n  {\n    \n      fetch(`${endpoint}?query=${this.query}&client_id=${clientID}&per_page=3&orientation=landscape`)\n          .then(response=>{\n               return response.json()\n        }).then(jsonResponse=>{\n              console.log(jsonResponse);\n              return jsonResponse.results;\n        }).then(results => this.marge(results))\n\n  }\n  \n \n \n  marge(jsonImagenes) \n  {\n    var arrayImagenes = jsonImagenes.map(images => {return  images.urls.small})  \n    var img1 = arrayImagenes[0];\n    var img2 = arrayImagenes[1]; \n    var img3 = arrayImagenes[2];  \n    var b64 =  mergeImages( [\n      { src: img1, x: 0, y: 0 },\n      { src: img2, x: 32, y: 0 },\n      { src: img3, opacity:0.7 }\n    ],{  crossOrigin :'Anonymous'})\n      .then(b64 => {this.setState({imagen:b64})});\n     \n  }\n\n  trackQueryValue(ev){\n    this.query = ev.target.value;\n  }\n\n  render()\n  {\n    if (this.state.hasError) {\n      \n      \n    \n    return(<div>\n      <input type=\"text\" onChange={this.trackQueryValue}/>\n      <button onClick={this.search}>Buscar</button>\n      <div>\n          <img src={this.state.imagen}crossOrigin=\"anonymous\" />\n          \n      </div>\n    </div>);\n    }\n  } \n}"]},"metadata":{},"sourceType":"module"}